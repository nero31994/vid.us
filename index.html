<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Movie & TV Explorer</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-MIrC1uvxMyUwR3NUJgt3fpT8vPiQ8iRU+l1aLaKq/O/jm4UVO7GqQfEbDFHLuIDy/B48eGnMR4CFMJmHFs5j3w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <!-- ✅ Full-Screen Intro Screen -->
  <div id="intro-screen" class="intro-screen">
    <img src="https://variety.com/wp-content/uploads/2019/02/netflix_newlogoanimation.gif" alt="Intro Animation">
  </div>

  <!-- ✅ Sticky Header with Logo & Search -->
  <header class="top-menu">
    <img src="https://i.ibb.co/jPG09vpp/93685c048f65a023413392ef61745925.png" alt="Logo" class="logo">
    
    <div class="controls">
      <button onclick="switchMode('movie')" title="Movies">
        <i class="fas fa-film"></i>
      </button>
      <button onclick="switchMode('tv')" title="TV Series">
        <i class="fas fa-tv"></i>
      </button>
      
      <div class="search-wrapper">
        <i class="fas fa-search"></i>
        <input id="search" type="text" placeholder="Search..." oninput="debounceSearch()">
      </div>
    </div>
  </header>

  <!-- ✅ Movie Content Section -->
  <main>
    <div id="movies" class="movie-grid"></div>
    <div id="sentinel"></div>
    <div id="loading">Loading...</div>
    <div id="error"></div>
  </main>

  <!-- ✅ Modal for Movie Details -->
  <div id="movieModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div class="modal-top" id="modalTop">
        <h2 id="modalTitle"></h2>
        <p id="modalOverview"></p>
        <p id="modalRelease"></p>
        <p id="modalRating"></p>
        <div id="seasonEpisodes"></div>
      </div>
      <iframe id="videoFrame" allowfullscreen></iframe>
    </div>
  </div>

  <!-- ✅ Auto-hide Intro After 3s with Fade Out -->
  <script>
    window.addEventListener("load", function () {
      const introScreen = document.querySelector(".intro-screen");
      if (introScreen) {
        setTimeout(function () {
          introScreen.classList.add("fade-out");
          setTimeout(() => {
            introScreen.classList.add("hidden");
          }, 1000);
        }, 3000);
      }
    });
  </script>

  <script src="script.js"></script>
  <script>
    function showModal() {
      const modal = document.getElementById("movieModal");
      const video = document.getElementById("movieVideo");

      modal.style.display = "flex";

      if (video) {
        video.play();
        if (video.requestFullscreen) {
          video.requestFullscreen();
        } else if (video.webkitRequestFullscreen) {
          video.webkitRequestFullscreen();
        } else if (video.msRequestFullscreen) {
          video.msRequestFullscreen();
        }
      }
    }
  </script>
</body>
</html>
